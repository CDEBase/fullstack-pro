<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>SampleDesktop</title>
  <script>require("source-map-support/source-map-support.js").install()</script>
  <link href="styles.css" rel="stylesheet"> 
  <script type='text/javascript'>
    window.ipcRenderer = require('electron').ipcRenderer;
  </script> 
</head>

<body>
  Tray APP PAGE
  <br />
  Counter : <div id="counter_disp"></div>
   <button onclick="increment()"> + </button> 
   <button onclick="decrement()"> - </button> 
   <div id="app" />
   <script>
     window.onload = (event) =>{
      var i = localStorage.getItem('counter');
     document.getElementById("counter_disp").innerText = i
     }
     var i = localStorage.getItem('counter');
     document.getElementById("counter_disp").innerText = i

         function increment(){
           console.log('-------Increment button clicked-------')
            ipcRenderer.send('increment_counter');
         }
         function decrement(){
          console.log('-------Descrement button clicked--------')
            ipcRenderer.send('decrement_counter');
         }
        
   </script>
   <script type='text/javascript'>
    var bundlePath = './tray.js';
    if (process.env.NODE_ENV === 'development') {
      bundlePath = 'http://localhost:9080/tray.js';
    }

    var js_script = document.createElement('script');
    js_script.src = bundlePath;
    js_script.async = true;
    document.body.appendChild(js_script);

    </script>
</body>

</html>


